<script setup>
import { ref } from 'vue'

const showHelp = ref(false)
</script>

<template>
  <div class="config-help">
    <button class="help-button" @click="showHelp = !showHelp">
      â“ é…ç½®è¯´æ˜
    </button>

    <div v-if="showHelp" class="help-modal">
      <div class="help-content">
        <div class="help-header">
          <h2>âš™ï¸ é…ç½®è¯´æ˜</h2>
          <button class="close-button" @click="showHelp = false">âœ•</button>
        </div>

        <div class="help-body">
          <!-- çŸ¿æ± é…ç½® -->
          <section class="help-section">
            <h3>1ï¸âƒ£ çŸ¿æ± é…ç½®ï¼ˆæœ€é‡è¦ï¼ï¼‰</h3>
            <div class="help-item">
              <strong>çŸ¿æ± åœ°å€ (Pool URL)</strong>
              <p>çŸ¿æ± æœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ï¼Œä¾‹å¦‚ï¼š</p>
              <ul>
                <li><code>stratum+ssl://equal.xdagminer.com:13003</code> xdagminer.com-equalçŸ¿æ± (æ¨è)</li>
                <li><code>stratum+tcp://stratum.xdag.org:23656</code> xdag.org-equalçŸ¿æ± (æ¨è)</li>
                <li><code>stratum+ssl://solo.xdagminer.com:23003</code> xdagminer.com-soloçŸ¿æ± </li>
                <li>
                  <p>æ›´å¤šçŸ¿æ± å‰å¾€ <a href="https://miningpoolstats.stream/dagger" target="_blank">XDAGçŸ¿æ± åˆ—è¡¨</a></p>
                </li>
              </ul>
            </div>

            <div class="help-item">
              <strong>é’±åŒ…åœ°å€ (Wallet Address)</strong>
              <p>ä½ çš„ XDAG é’±åŒ…åœ°å€ï¼ŒæŒ–åˆ°çš„å¸ä¼šå‘é€åˆ°è¿™é‡Œã€‚</p>
              <p class="warning">âš ï¸ è¿™æ˜¯æœ€é‡è¦çš„é…ç½®ï¼æ²¡æœ‰é’±åŒ…åœ°å€å°±æ— æ³•æ”¶åˆ°æŒ–çŸ¿æ”¶ç›Šã€‚</p>
            </div>

            <div class="help-item">
              <strong>å¯†ç  (Password)</strong>
              <p>é€šå¸¸å¡« "x" å³å¯ï¼Œéƒ¨åˆ†çŸ¿æ± å¯èƒ½éœ€è¦ç‰¹å®šå¯†ç ã€‚</p>
            </div>

            <div class="help-item">
              <strong>çŸ¿æœºID (Rig ID)</strong>
              <p>å¯é€‰ï¼Œç”¨äºåœ¨çŸ¿æ± ä¸­è¯†åˆ«ä¸åŒçš„çŸ¿æœºï¼Œä¾‹å¦‚ï¼šhome-pcã€laptop ç­‰ã€‚</p>
            </div>
          </section>

          <!-- CPUé…ç½® -->
          <section class="help-section">
            <h3>2ï¸âƒ£ CPU é…ç½®</h3>
            <div class="help-item">
              <strong>æœ€å¤§çº¿ç¨‹æç¤º (%)</strong>
              <p>ä½¿ç”¨ CPU æ ¸å¿ƒçš„ç™¾åˆ†æ¯”ï¼š</p>
              <ul>
                <li><code>100</code> - ä½¿ç”¨æ‰€æœ‰æ ¸å¿ƒï¼ˆæ€§èƒ½æœ€é«˜ï¼Œä½†ç”µè„‘ä¼šå¡ï¼‰</li>
                <li><code>50</code> - ä½¿ç”¨ä¸€åŠæ ¸å¿ƒï¼ˆå¹³è¡¡æ¨¡å¼ï¼Œæ¨èï¼‰</li>
                <li><code>25</code> - ä½¿ç”¨å››åˆ†ä¹‹ä¸€æ ¸å¿ƒï¼ˆä½åŠŸè€—æ¨¡å¼ï¼‰</li>
              </ul>
            </div>

            <div class="help-item">
              <strong>ä¼˜å…ˆçº§ (Priority)</strong>
              <p>æŒ–çŸ¿ç¨‹åºçš„è¿è¡Œä¼˜å…ˆçº§ï¼š</p>
              <ul>
                <li><code>ä½</code> - ä¸å½±å“å…¶ä»–ç¨‹åºï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰</li>
                <li><code>æ™®é€š</code> - æ ‡å‡†ä¼˜å…ˆçº§</li>
                <li><code>é«˜</code> - ä¼˜å…ˆåˆ†é…CPUèµ„æº</li>
                <li><code>å®æ—¶</code> - æœ€é«˜ä¼˜å…ˆçº§ï¼ˆä¸æ¨èï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå¡æ­»ï¼‰</li>
              </ul>
            </div>

            <div class="help-item">
              <strong>å¤§é¡µå†…å­˜ (Huge Pages)</strong>
              <p>å¯ç”¨åå¯æå‡ 5-10% æ€§èƒ½ï¼Œä½†éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚</p>
            </div>
          </section>

          <!-- HTTP APIé…ç½® -->
          <section class="help-section">
            <h3>3ï¸âƒ£ HTTP API é…ç½®</h3>
            <div class="help-item">
              <strong>å¯ç”¨ HTTP API</strong>
              <p>å¼€å¯åï¼Œæœ¬ç¨‹åºå¯ä»¥å®æ—¶è¯»å–æŒ–çŸ¿æ•°æ®ï¼ˆç®—åŠ›ã€æ¸©åº¦ç­‰ï¼‰ã€‚</p>
              <p class="tip">ğŸ’¡ å»ºè®®ä¿æŒå¼€å¯ï¼Œå¦åˆ™çœ‹ä¸åˆ°å®æ—¶ç®—åŠ›ï¼</p>
            </div>

            <div class="help-item">
              <strong>ç«¯å£ (Port)</strong>
              <p>é»˜è®¤ 3649ï¼Œå¦‚æœç«¯å£è¢«å ç”¨å¯ä»¥æ”¹æˆå…¶ä»–ï¼ˆå¦‚ 8082,3649ï¼‰ã€‚</p>
            </div>
          </section>

          <!-- ä½¿ç”¨æµç¨‹ -->
          <section class="help-section">
            <h3>ğŸ“‹ é¦–æ¬¡ä½¿ç”¨æ­¥éª¤</h3>
            <ol class="steps">
              <li>
                <strong>è·å– XDAG é’±åŒ…åœ°å€</strong>
                <p>å‰å¾€ <a href="https://xdag.io/" target="_blank">xdag.io</a> ä¸‹è½½é’±åŒ…ï¼Œæˆ–ä½¿ç”¨äº¤æ˜“æ‰€åœ°å€ã€‚</p>
              </li>
              <li>
                <strong>é€‰æ‹©çŸ¿æ± </strong>
                <p>æ¨èæ–°æ‰‹ä½¿ç”¨ <code>stratum+ssl://equal.xdagminer.com:13003</code></p>
              </li>
              <li>
                <strong>å¡«å†™é…ç½®</strong>
                <p>åœ¨"çŸ¿æ± é…ç½®"ä¸­å¡«å†™çŸ¿æ± åœ°å€å’Œé’±åŒ…åœ°å€ã€‚</p>
              </li>
              <li>
                <strong>è°ƒæ•´ CPU ä½¿ç”¨ç‡</strong>
                <p>å»ºè®®å…ˆè®¾ç½®ä¸º 50%ï¼Œé¿å…ç”µè„‘å¤ªå¡ã€‚</p>
              </li>
              <li>
                <strong>ä¿å­˜é…ç½®</strong>
                <p>ç‚¹å‡»"ğŸ’¾ ä¿å­˜é…ç½®"æŒ‰é’®ã€‚</p>
              </li>
              <li>
                <strong>å¼€å§‹æŒ–çŸ¿</strong>
                <p>è¿”å›"æ§åˆ¶é¢æ¿"ï¼Œç‚¹å‡»"â–¶ï¸ å¼€å§‹æŒ–çŸ¿"ã€‚</p>
              </li>
            </ol>
          </section>

          <!-- å¸¸è§é—®é¢˜ -->
          <section class="help-section">
            <h3>â“ å¸¸è§é—®é¢˜</h3>
            <div class="faq">
              <div class="faq-item">
                <strong>Q: æŒ–çŸ¿èƒ½èµšå¤šå°‘é’±ï¼Ÿ</strong>
                <p>A: å–å†³äº CPU æ€§èƒ½ï¼Œä»¥åŠXDAGå¸ç›®å‰å¸‚åœºä»·æ ¼ã€‚</p>
              </div>
              <div class="faq-item">
                <strong>Q: ä¸ºä»€ä¹ˆçœ‹ä¸åˆ°ç®—åŠ›ï¼Ÿ</strong>
                <p>A: ç¡®ä¿"HTTP API"å·²å¼€å¯ï¼Œç«¯å£æœªè¢«å ç”¨ã€‚</p>
              </div>
              <div class="faq-item">
                <strong>Q: ç”µè„‘å¤ªå¡æ€ä¹ˆåŠï¼Ÿ</strong>
                <p>A: é™ä½"æœ€å¤§çº¿ç¨‹æç¤º (%)"çš„å€¼ï¼Œæ¯”å¦‚æ”¹æˆ 25% æˆ– 50%ã€‚</p>
              </div>
              <div class="faq-item">
                <strong>Q: å¤šä¹…èƒ½æ”¶åˆ°æ”¶ç›Šï¼Ÿ</strong>
                <p>A: å¤§å¤šæ•°çŸ¿æ± åœ¨è¾¾åˆ°æœ€ä½æç°é¢åº¦åä¼šè‡ªåŠ¨è½¬è´¦åˆ°ä½ çš„é’±åŒ…ã€‚</p>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.help-button {
  position: fixed;
  right: 2rem;
  bottom: 8rem;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
  color: white;
  border: none;
  border-radius: 50px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4);
  transition: all 0.3s ease;
  z-index: 100;
}

.help-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(74, 144, 226, 0.6);
}

.help-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 2rem;
  overflow-y: auto;
}

.help-content {
  background: linear-gradient(135deg, #1a1f35 0%, #2d3561 100%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 16px;
  max-width: 800px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.help-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem 2rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  position: sticky;
  top: 0;
  background: rgba(26, 31, 53, 0.95);
  backdrop-filter: blur(10px);
  z-index: 10;
}

.help-header h2 {
  margin: 0;
  color: #64b5f6;
  font-size: 1.5rem;
}

.close-button {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: white;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  font-size: 1.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.close-button:hover {
  background: rgba(244, 67, 54, 0.3);
  transform: rotate(90deg);
}

.help-body {
  padding: 2rem;
}

.help-section {
  margin-bottom: 2.5rem;
}

.help-section h3 {
  color: #4a90e2;
  margin-bottom: 1rem;
  font-size: 1.2rem;
}

.help-item {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 1rem;
}

.help-item strong {
  display: block;
  color: #64b5f6;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.help-item p {
  color: rgba(255, 255, 255, 0.8);
  margin: 0.5rem 0;
  line-height: 1.6;
}

.help-item ul,
.steps {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
  color: rgba(255, 255, 255, 0.8);
}

.help-item li,
.steps li {
  margin: 0.3rem 0;
  line-height: 1.6;
}

.steps li {
  margin-bottom: 1rem;
}

.steps li strong {
  display: inline;
  color: #4caf50;
}

.steps li p {
  margin-left: 0;
  margin-top: 0.3rem;
}

code {
  background: rgba(0, 0, 0, 0.3);
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  color: #4caf50;
  font-family: 'Consolas', 'Monaco', monospace;
}

.warning {
  background: rgba(255, 152, 0, 0.1);
  border-left: 3px solid #ff9800;
  padding: 0.5rem 1rem !important;
  border-radius: 4px;
  color: #ffb74d !important;
}

.tip {
  background: rgba(33, 150, 243, 0.1);
  border-left: 3px solid #2196f3;
  padding: 0.5rem 1rem !important;
  border-radius: 4px;
  color: #64b5f6 !important;
}

.faq-item {
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 1rem;
}

.faq-item strong {
  color: #ff9800;
  display: block;
  margin-bottom: 0.5rem;
}

.faq-item p {
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
}

a {
  color: #4a90e2;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

.help-content::-webkit-scrollbar {
  width: 8px;
}

.help-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
}

.help-content::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}
</style>
